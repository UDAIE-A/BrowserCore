<Page
    x:Class="BrowserCore.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:BrowserCore"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="#F8F9FA">

    <Grid x:Name="RootGrid">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#2C3E50" Height="60">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <Button x:Name="BackButton" Grid.Column="0" 
                       Background="Transparent" BorderBrush="Transparent"
                       Click="BackButton_Click" Margin="10" 
                       VerticalAlignment="Center">
                    <SymbolIcon Symbol="Back" Foreground="White" Width="24" Height="24"/>
                </Button>
                
                <TextBlock Grid.Column="1" Text="BrowserCore Settings" 
                          Foreground="White" FontSize="20" FontWeight="Bold"
                          VerticalAlignment="Center" Margin="10,0"/>
            </Grid>
        </Border>

        <!-- Settings Content -->
        <ScrollViewer Grid.Row="1" Padding="20">
            <StackPanel>
                
                <!-- GPU Acceleration Section -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="GPU Acceleration" FontSize="18" FontWeight="Bold" Foreground="#2C3E50"/>
                        
                        <Grid Margin="0,15,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="Hardware Acceleration" VerticalAlignment="Center" Foreground="#2C3E50"/>
                            <ToggleSwitch x:Name="GPUToggle" Grid.Column="1" 
                                         IsOn="True" Toggled="GPUToggle_Toggled"/>
                        </Grid>
                        
                        <ComboBox x:Name="RenderingModeCombo" Header="Rendering Mode" 
                                 PlaceholderText="Select rendering mode"
                                 SelectionChanged="RenderingModeCombo_SelectionChanged"
                                 Margin="0,15,0,0" Foreground="#2C3E50">
                            <ComboBoxItem Content="Auto (Recommended)" Tag="2"/>
                            <ComboBoxItem Content="Hardware Only" Tag="1"/>
                            <ComboBoxItem Content="Software Fallback" Tag="0"/>
                        </ComboBox>
                        
                        <TextBlock x:Name="GPUInfoText" Text="GPU: Detecting..." 
                                  Foreground="#7F8C8D" FontSize="12" Margin="0,15,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Performance Section -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="Performance" FontSize="18" FontWeight="Bold" Foreground="#2C3E50"/>
                        
                        <Grid Margin="0,15,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Foreground="#2C3E50" Grid.Column="0" Text="CLRNET Enhanced Scripts" VerticalAlignment="Center"/>
                            <ToggleSwitch x:Name="CLRNETToggle" Grid.Column="1" 
                                         IsOn="True" Toggled="CLRNETToggle_Toggled"/>
                        </Grid>
                        
                        <Grid Margin="0,10,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Foreground="#2C3E50" Grid.Column="0" Text="Script Caching" VerticalAlignment="Center"/>
                            <ToggleSwitch x:Name="CachingToggle" Grid.Column="1" 
                                         IsOn="True" Toggled="CachingToggle_Toggled"/>
                        </Grid>
                        
                        <Grid Margin="0,10,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Foreground="#2C3E50" Grid.Column="0" Text="ARM Optimizations" VerticalAlignment="Center"/>
                            <ToggleSwitch x:Name="ARMToggle" Grid.Column="1" 
                                         IsOn="True" Toggled="ARMToggle_Toggled"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Browser Section -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="Browser" FontSize="18" FontWeight="Bold" Foreground="#2C3E50"/>

                        <TextBox Foreground="#2C3E50" x:Name="HomepageTextBox" Header="Homepage URL" 
                                PlaceholderText="https://www.google.com"
                                Text="https://www.google.com" Margin="0,15,0,0"/>
                        
                        <Grid Margin="0,15,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Foreground="#2C3E50" Grid.Column="0" Text="JavaScript Enabled" VerticalAlignment="Center"/>
                            <ToggleSwitch x:Name="JavaScriptToggle" Grid.Column="1" 
                                         IsOn="True" Toggled="JavaScriptToggle_Toggled"/>
                        </Grid>
                        
                        <Grid Margin="0,10,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Foreground="#2C3E50" Grid.Column="0" Text="Video Optimization" VerticalAlignment="Center"/>
                            <ToggleSwitch x:Name="VideoOptToggle" Grid.Column="1" 
                                         IsOn="True" Toggled="VideoOptToggle_Toggled"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- About Section -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="About BrowserCore" FontSize="18" FontWeight="Bold" Foreground="#2C3E50"/>
                        <TextBlock Text="Version: 1.0.0" Foreground="#7F8C8D" Margin="0,10,0,0"/>
                        <TextBlock Text="Clean ARM-first browser with CLRNET integration" 
                                  TextWrapping="Wrap" Foreground="#7F8C8D" Margin="0,5,0,0"/>
                        <TextBlock x:Name="PerformanceStatsText" Text="Performance: Ready" 
                                  Foreground="#27AE60" FontSize="12" Margin="0,10,0,0"/>
                    </StackPanel>
                </Border>

            </StackPanel>
        </ScrollViewer>

        <!-- Bottom Actions -->
        <Border Grid.Row="2" Background="White" BorderBrush="#E0E0E0" BorderThickness="0,1,0,0" Padding="20">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <Button x:Name="ResetButton" Grid.Column="0" Content="Reset to Defaults" 
                       Background="#E74C3C" Foreground="White" 
                       Click="ResetButton_Click" Margin="0,0,10,0"/>
                       
                <Button x:Name="SaveButton" Grid.Column="1" Content="Save Settings" 
                       Background="#27AE60" Foreground="White" 
                       Click="SaveButton_Click"/>
            </Grid>
        </Border>
    </Grid>
</Page>