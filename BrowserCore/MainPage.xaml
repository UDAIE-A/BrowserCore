<Page
    x:Class="BrowserCore.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:BrowserCore"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="#FFFFFF">

    <Grid x:Name="RootGrid">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Status Bar -->
        <Border Grid.Row="0" Background="#2C3E50" Height="30">
            <Grid>
                <TextBlock x:Name="StatusText" Text="CLRNET Browser Ready" 
                          Foreground="White" VerticalAlignment="Center" 
                          HorizontalAlignment="Left" Margin="10,0" FontSize="12"/>
                <TextBlock x:Name="PerformanceText" Text="ARM Optimized" 
                          Foreground="#27AE60" VerticalAlignment="Center" 
                          HorizontalAlignment="Right" Margin="0,0,10,0" FontSize="10"/>
            </Grid>
        </Border>

        <!-- Address Bar -->
        <Border Grid.Row="1" Background="#ECF0F1" BorderBrush="#BDC3C7" BorderThickness="0,0,0,1" Padding="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBox x:Name="AddressBar" Grid.Column="0" 
                        PlaceholderText="Enter URL or search..." 
                        KeyDown="AddressBar_KeyDown" FontSize="14"/>
                <Button x:Name="GoButton" Grid.Column="1" Content="Go" 
                       Background="#3498DB" Foreground="White" 
                       BorderBrush="Transparent" Margin="10,0,0,0" 
                       Click="GoButton_Click" Padding="15,5"/>
            </Grid>
        </Border>

        <!-- Browser Content - Custom HTML Renderer -->
        <Border Grid.Row="2" Background="White">
            <Grid x:Name="BrowserContainer">
                <!-- Custom HTML Content Area -->
                <ScrollViewer x:Name="ContentScrollViewer" 
                            ZoomMode="Enabled" 
                            VerticalScrollBarVisibility="Auto"
                            HorizontalScrollBarVisibility="Auto"
                            VerticalScrollMode="Auto"
                            HorizontalScrollMode="Auto">
                    <StackPanel x:Name="ContentPanel" 
                              Background="White"
                              Margin="0"/>
                </ScrollViewer>

                <!-- WebView removed: enforce pure Custom HTML Engine rendering -->
                
                <!-- Loading Overlay -->
                <Grid x:Name="LoadingOverlay" Background="#F8F9FA" Visibility="Collapsed">
                    <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                        <ProgressRing IsActive="True" Foreground="#3498DB" Width="40" Height="40"/>
                        <TextBlock Text="Loading with Custom HTML Engine..." Margin="0,10,0,0" 
                                  FontSize="14" Foreground="#7F8C8D" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </Grid>
        </Border>

        <!-- Bottom Navigation -->
        <Border Grid.Row="3" Background="#2C3E50" Height="60">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Back Button -->
                <Button x:Name="BottomBackButton" Grid.Column="0" 
                       Background="Transparent" BorderBrush="Transparent"
                       Click="BottomBackButton_Click" Padding="0" Margin="5">
                    <StackPanel HorizontalAlignment="Center">
                        <SymbolIcon Symbol="Back" Foreground="White" Width="20" Height="20"/>
                        <TextBlock Text="Back" Foreground="White" FontSize="10" 
                                  HorizontalAlignment="Center" Margin="0,2,0,0"/>
                    </StackPanel>
                </Button>

                <!-- Forward Button -->
                <Button x:Name="BottomForwardButton" Grid.Column="1" 
                       Background="Transparent" BorderBrush="Transparent"
                       Click="BottomForwardButton_Click" Padding="0" Margin="5">
                    <StackPanel HorizontalAlignment="Center">
                        <SymbolIcon Symbol="Forward" Foreground="White" Width="20" Height="20"/>
                        <TextBlock Text="Forward" Foreground="White" FontSize="10" 
                                  HorizontalAlignment="Center" Margin="0,2,0,0"/>
                    </StackPanel>
                </Button>

                <!-- Refresh Button -->
                <Button x:Name="BottomRefreshButton" Grid.Column="2" 
                       Background="Transparent" BorderBrush="Transparent"
                       Click="BottomRefreshButton_Click" Padding="0" Margin="5">
                    <StackPanel HorizontalAlignment="Center">
                        <SymbolIcon Symbol="Refresh" Foreground="White" Width="20" Height="20"/>
                        <TextBlock Text="Refresh" Foreground="White" FontSize="10" 
                                  HorizontalAlignment="Center" Margin="0,2,0,0"/>
                    </StackPanel>
                </Button>

                <!-- GPU Toggle / Status Button -->
                <Button x:Name="BottomGPUButton" Grid.Column="3" 
                       Background="Transparent" BorderBrush="Transparent"
                       Click="BottomGPUButton_Click" Padding="0" Margin="5">
                    <StackPanel HorizontalAlignment="Center">
                        <SymbolIcon Symbol="Play" Foreground="#00FF88" Width="20" Height="20"/>
                        <TextBlock x:Name="GpuStatusText" Text="GPU" Foreground="#00FF88" FontSize="10" 
                                  HorizontalAlignment="Center" Margin="0,2,0,0"/>
                    </StackPanel>
                </Button>

                <!-- Settings Button -->
                <Button x:Name="BottomSettingsButton" Grid.Column="4" 
                       Background="Transparent" BorderBrush="Transparent"
                       Click="SettingsButton_Click" Padding="0" Margin="5">
                    <StackPanel HorizontalAlignment="Center">
                        <SymbolIcon Symbol="Setting" Foreground="White" Width="20" Height="20"/>
                        <TextBlock Text="Settings" Foreground="White" FontSize="10" 
                                  HorizontalAlignment="Center" Margin="0,2,0,0"/>
                    </StackPanel>
                </Button>
            </Grid>
        </Border>
    </Grid>
</Page>
